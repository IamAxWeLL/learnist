<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Learnist | Main</title>
    <script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
    <script src="/webjars/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/webjars/bootstrap/4.5.2/css/bootstrap.min.css"/>
    <link th:href="@{/assets/css/profile.css}" rel="stylesheet"/>
    <link th:href="@{/assets/css/search.css}" rel="stylesheet"/>
</head>
<body>

<div th:replace="/fragments/header::header"></div>
<p sec:authentication="principal.authorities">Roles</p>
<div sec:authorize="hasAuthority('can_update')">
    This text is only shown to roles with can_update permissions.
</div>
<div sec:authorize="hasRole('ROLE_ADMIN')">
    <a href="/admin/profile">1) admin panel</a>
</div>
<div sec:authorize="hasAuthority('can_update')">
    <a href="/creator/profile">2) link with auth can_update</a>
</div>
<div sec:authorize="hasRole('ROLE_CREATOR')">
    <div sec:authorize="hasRole('ROLE_CREATOR')">
        <a href="/creator/profile">3) link with hasRole('ROLE_CREATOR')</a>
    </div>
</div>
<div sec:authorize="hasAnyRole('ROLE_CREATOR, ROLE_USER')">
    <a href="/creator/profile">4) hasAnyRole(CR, U CR can access, but U can't because of @PreAuthorize"</a>
</div>
<div sec:authorize="hasAnyRole('ROLE_ADMIN, ROLE_USER, CREATOR')">
    <a href="/user/add">5) all roles can access this link</a>
</div>
<div sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER', 'ROLE_CREATOR')">
    <a class="btn btn-primary" href="/perform_logout" role="button">Logout</a>
</div>
<div th:replace="/fragments/footer::footer"></div>
</body>
</html>
