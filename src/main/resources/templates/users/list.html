<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/head::head"></head>
<div th:replace="/fragments/header::header"></div>

<th:block th:fragment="content">
    <div class="row">
        <div class="col-md-12">
            <div class="block-flat">
                <div class="header" style="text-align: center">
                    <h3 th:text="'List of users'"></h3>
                </div>
                <div class="content">
                    <table class="table">
                        <thead class="thead-dark">
                        <tr>
                            <th th:text="'Id'">
                            </th>
                            <th>
                                <strong>Username</strong>
                            </th>
                            <th>
                                <strong>Email</strong>
                            </th>
                            <th>
                                <strong>Enabled</strong>
                            </th>
                            <th colspan="2">
                                <strong>Action</strong>
                            </th>
                        </tr>
                        </thead>
                        <tbody th:border="1">
                        <tr th:each="user : ${users}">
                            <td th:text="${user.id}"></td>
                            <td th:text="${user.username}"></td>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.enabled}"></td>
                            <td>
                                <a th:if="${user.enabled && user.username != #authentication.getPrincipal().getUsername() }"
                                   th:href="@{/user/disable/{id}(id=${user.id})}" th:text="'disable'"></a>
                            </td>
                            <td>
                                <a th:if="${!user.enabled}" th:href="@{/user/enable/{id}(id=${user.id})}"
                                   th:text="'enable'"></a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
</th:block>

<div th:replace="/fragments/footer::footer"></div>
</html>
